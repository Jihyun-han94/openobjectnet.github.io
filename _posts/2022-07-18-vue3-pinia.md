---
title:  "Pinia 정리 & Vuex와 비교"
search: false
categories: 
  - Vue
toc: true  
tags:
  - Vue
author: 김도겸
---
<br>
# Intro
안녕하세요. 김도겸입니다. <br>
새로운 상태관리 플러그인 Pinia에 대한 개념 및 사용법과 Vuex와 비교를 정리해보았습니다. 

<br><br>

# 1. Pinia란???

![pinia start](/assets/images/vue-pinia/vue_pinia_start.png)

pinia는 Vue3가 출시되며 Vue의 창시자인 Evan You가 추천하는 새로운 상태관리 플러그인입니다.  
pinia는 composition-api라는 틀을 이용해 상태관리를 보다 쉽게 만들 수 있기 때문에 Vue3에서는 기존에 쓰였던 Vuex보다 Pinia 공식적으로 권장하고 있습니다.

그 밖에도 vue3에서 pinia를 권장하는 다른 이유들은 뭐가 있을 지 Vuex와 비교하며 설명드리도록 하겠습니다.

# 2. Pinia와 Vuex 비교

- <b>modules, namespaced 방식 미사용</b>   
vuex에서는 modules와 namespaced를 활용하여 모듈화 작업을 하여 기능마다 분리하고, 분리한 모듈을 각각 중심이 되는 root store 파일에 모듈을 추가합니다.   
하지만 Pinia에서는 modules와 namespaced를 사용하지 않아도 됩니다.
defineStore라는 함수를 활용하여 각각의 파일마다 별도의 store를 지정하여 module의 기능을 대신합니다.   
defineStore에서 반환된 hook을 이용하여 store에 아주 쉬운 접근이 가능합니다.

- <b>Typescript 사용 편의성 증가</b>   
vuex에서도 Typescript를 사용할 수 있으나 상태와 매칭되는 타입 정의가 매우 까다롭습니다. 
흩어져 있는 module 파일들에 대한 state 타입을 추론하는 것이 어렵고, RootState를 얻기 위해
index.ts를 만들어 모든 module을 연결지어줘야 하는 것과 새로운 모듈을 만들 때마다 해당 작업을 반복해야하는 것도 꽤나 번거롭습니다.

- <b>mutations의 사라짐</b>    
vuex에선 상태(state)를 변경하기 위해 mutations를 사용하는데, actions에서 state를 제어하기 위해서는 mutation을 일일히 만들어야 한다는 불편한 점이 있었습니다.   
이러한 불편한 점을 해결하기 위해 pinia에서는 mutation의 개념이 사라지고, actions에서 상태를 모두 제어합니다.

- <b>SFC 문법 지원</b>   
Vuex에서는 SFC 문법을 지원하지 않았지만, pinia에서는 composition-api를 지원합니다.   
state, action, getters를 명시적으로 구분하지 않아도 ref, reactive, computed와 같은 Composition API Hooks를  활용하여 setup을 정의할 때와 동일하게 사용할 수 있습니다.   



> pinia는 Vue3와 Vue2 + Composition API 환경에서만 작동합니다.

# 3. 설치 및 사용법
vue3 composition-api 기준으로 기본적인 사용법을 설명드리겠습니다.

프로젝트에 pinia를 먼저 설치합니다.
```
npm install pinia
```







 




